{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/FavoriteMovies.jsx","components/SortButton.jsx","components/Loader.jsx","components/Pagination.jsx","components/App.jsx","index.js"],"names":["MovieItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","trimOverview","str","maxlength","length","concat","slice","split","join","state","favorite","_this2","_this$props","movie","removeMovie","addToFavorite","removeFromFavorite","image","backdrop_path","poster_path","isImage","react_default","a","createElement","className","src","alt","title","vote_average","overview","type","onClick","setState","bind","React","Component","API_URL","API_KEY_3","MovieTabs","_ref","sort_by","updateSortBy","handleClick","value","getClassLink","bool","cn","active","FavoriteMovies","favoriteMovies","map","key","id","SortButton","rateUp","sortByRate","sortByReverseRate","Loader","role","randomstring","require","Pagination","targetPage","page","totalPages","changePage","pagination__button--active","pageButtons","Array","fill","index","generate","App","getMoviesFromServer","fetch","then","response","json","data","movies","results","isLoading","total_pages","catch","error","alert","console","log","updateMovies","filter","item","updateFavoriteMovies","toConsumableArray","prevState","sort","b","scrollTop","myRef","current","scrollIntoView","behavior","block","createRef","prevProps","_this$state","ref","MovieTabs_MovieTabs","components_SortButton","components_Pagination","components_MovieItem","components_Loader","FavoriteMovies_FavoriteMovies","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.ab431583.chunk.js","sourcesContent":["import React from 'react';\nimport '../css/movieItem.css';\n\nclass MovieItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      favorite: false\n    };\n  }\n\n  trimOverview = (str, maxlength) => {\n    if (str.length > maxlength) {\n      return `${str.slice(0, maxlength).split('.').slice(0, -1).join('.')}.`;\n    }\n    return str;\n  }\n \n  render() {\n    const { movie, removeMovie, addToFavorite, removeFromFavorite } = this.props;\n    const image = `https://image.tmdb.org/t/p/w500${movie.backdrop_path || movie.poster_path}`;\n    const noImage = 'https://stockpictures.io/wp-content/uploads/2020/01/image-not-found-big-768x432.png';\n    const isImage = movie.backdrop_path || movie.poster_path;\n\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={isImage ? image : noImage}\n          alt=\"\" />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{movie.title}</h6>\n          <p className=\"card-rate mb-4\">Rating: {movie.vote_average}</p>\n          <p className=\"card-overview\">{this.trimOverview(movie.overview, 680)}</p>\n          <div className=\"card-buttons d-flex flex-column align-items-end\">\n            {this.state.favorite ? (\n              <button type=\"button\" className=\"btn btn-secondary mb-2\" onClick={() => {\n                  this.setState({\n                    favorite: false\n                  });\n                  removeFromFavorite(movie);\n                }}>\n                Remove Favorite\n              </button>\n            ) : (\n              <button type=\"button\" className=\"btn btn-success mb-2\" onClick={() => {\n                  this.setState({\n                    favorite: true\n                  });\n                  addToFavorite(movie);\n                }}>\n                Add to Favorites\n              </button>\n            )}\n            <button className=\"btn btn-danger\" onClick={removeMovie.bind(null, movie)}>\n              Delete movie\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from 'react';\nimport cn from 'classnames';\nimport '../css/movieTabs.css';\n\nexport const MovieTabs = ({ sort_by, updateSortBy }) => {\n  const handleClick = value => {\n    return () => updateSortBy(value)\n  };\n\n  const getClassLink = value => {\n    const bool = sort_by === value;\n    return cn('nav-link', {'active': bool});\n  }\n\n  return (\n    <ul className=\"tabs nav nav-pills\">\n      <li className=\"nav-item\">\n        <div \n          className={getClassLink(\"popularity.desc\")}\n          onClick={handleClick(\"popularity.desc\")}\n        >\n        Popularity\n        </div>\n      </li>\n      <li className=\"nav-item\">\n        <div \n          className={getClassLink(\"revenue.desc\")}\n          onClick={handleClick(\"revenue.desc\")}\n        >\n        Revenue\n        </div>\n      </li>\n      <li className=\"nav-item\">\n        <div \n          className={getClassLink(\"vote_average.desc\")}\n          onClick={handleClick(\"vote_average.desc\")}\n        >\n          Vote average\n        </div>\n      </li>\n    </ul>\n  )\n};","import React from 'react';\nimport '../css/favorite.css';\n  \nexport const FavoriteMovies = ({ favoriteMovies }) => {\n\n  return (\n    <div className=\"col-3 favorite\">\n      <h3>Favorites: <br/> {favoriteMovies.length} movies</h3>\n      <ul className=\"list-group\">\n        {favoriteMovies.map(movie => {\n          return (\n            <li className=\"list-group-item\" key={movie.id}>\n              <div className=\"d-flex justify-content-between\">\n                <div>{movie.title}</div>\n                <div>{movie.vote_average}</div>\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  )\n};","import React from 'react';\n\nclass SortButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      rateUp: true\n    };\n  }\n \n  render() {\n    const { sortByRate, sortByReverseRate } = this.props;\n\n    return (\n      <div className=\"col align-self-center text-right\">\n        {this.state.rateUp ? (\n          <button type=\"button\" className=\"btn btn-primary\" onClick={() => {\n            this.setState({\n              rateUp: false\n            });\n            sortByRate();\n          }}>\n            Highest rating\n          </button>\n          ) : (\n          <button type=\"button\" className=\"btn btn-primary\" onClick={() => {\n            this.setState({\n              rateUp: true\n            });\n            sortByReverseRate();\n          }}>\n            Lowest rating\n          </button>\n        )}\n      </div>     \n    );\n  }\n}\n\nexport default SortButton;","import React from 'react';\n\nconst Loader = () => {\n  return (\n    <div className=\"loader spinner-border text-primary\" role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n};\n\nexport default Loader;","import React from 'react';\nimport '../css/pagination.css';\nimport cn from 'classnames';\n\nconst randomstring = require('randomstring');\n\nconst Pagination = ({ page, totalPages, changePage }) => {\n\n  const creatButtons = targetPage => {\n    if (totalPages < 6) {\n      const buttons = new Array(totalPages).fill('').map((value, index) => index + 1);\n      return buttons;\n    } else if (targetPage < 4) {\n      return [1, 2, 3, 4, 5, '...', totalPages];\n    } else if (targetPage >= 4 && targetPage < totalPages - 4) {\n      return [1, '...', targetPage -1, targetPage, targetPage + 1, '...', totalPages];\n    } else {\n      return [1, '...', totalPages - 4, totalPages - 3, totalPages - 2, totalPages - 1, totalPages];\n    }\n  };\n\n  const getClassLink = value => {\n    const bool = page === value;\n    return cn('pagination__button', {'pagination__button--active': bool});\n  }\n\n  const pageButtons = creatButtons(page);\n  \n  return (\n    <ul className=\"pagination\">\n      <li className=\"pagination__button\" onClick={() => changePage(page - 1)}>\n        &laquo;\n      </li>\n      {pageButtons.map(value => (\n        <li\n          className={getClassLink(value)}\n          key={randomstring.generate(5)}\n          onClick={() => changePage(value)}\n        >\n          {value}\n        </li>\n      ))}\n      <li className=\"pagination__button\" onClick={() => changePage(page + 1)}>\n        &raquo;\n      </li>\n    </ul>\n  );\n};\n\nexport default Pagination;","import React from \"react\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from '../utils/api';\nimport { MovieTabs } from './MovieTabs';\nimport { FavoriteMovies } from './FavoriteMovies';\nimport SortButton from './SortButton';\nimport Loader from './Loader';\nimport Pagination from './Pagination';\nimport '../css/app.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      movies: [],\n      favoriteMovies: [],\n      sort_by: \"popularity.desc\",\n      isLoading: false,\n      page: 1,\n      totalPages: 0\n    };\n\n    this.myRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.getMoviesFromServer();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sort_by !== this.state.sort_by ||\n    prevState.page !== this.state.page) {\n      this.getMoviesFromServer();\n    }\n  }\n\n  getMoviesFromServer = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`\n    )\n    .then(response => response.json())\n    .then(data => {\n      this.setState({\n        movies: data.results,\n        isLoading: true,\n        totalPages: data.total_pages,\n      })\n    })\n    .catch(error => {\n      alert(`Something wrong... ${error}`)\n      console.log(error)\n    })\n  }\n\n  changePage = value => {\n    if (value > 0 && value <= this.state.totalPages) {\n      this.setState({\n        page: value,\n      });\n    }\n  };\n  \n  removeMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n\n    this.setState({\n      movies: updateMovies\n    });\n  }\n\n  addToFavorite = movie => {\n    const updateFavoriteMovies = [...this.state.favoriteMovies, movie];\n\n    this.setState({\n      favoriteMovies: updateFavoriteMovies\n    });\n  }\n\n  removeFromFavorite = movie => {\n    const updateFavoriteMovies = this.state.favoriteMovies.filter(item => item.id !== movie.id);\n\n    this.setState({\n      favoriteMovies: updateFavoriteMovies\n    });\n  }\n\n  sortByRate = () => {\n    this.setState(prevState => ({\n      movies: [...prevState.movies].sort((a, b) => b.vote_average - a.vote_average),\n    }));\n  }\n\n  sortByReverseRate = () => {\n    this.setState(prevState => ({\n      movies: [...prevState.movies].sort((a, b) => a.vote_average - b.vote_average),\n    }));\n  }\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value,\n      page: 1,\n    });\n  }\n\n  scrollTop = () => {\n    this.myRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })\n  }\n\n  render() {\n    const { movies, favoriteMovies, sort_by, page, totalPages, isLoading } = this.state;\n\n    return (\n      <div className=\"container\" ref={this.myRef}>\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n             <div className=\"col-9\">\n              <MovieTabs \n                sort_by={sort_by} \n                updateSortBy={this.updateSortBy} \n              />\n             </div>\n              <SortButton \n                sortByRate={this.sortByRate} \n                sortByReverseRate={this.sortByReverseRate} \n              />\n            </div>\n            <div className=\"row justify-content-center\">\n              <Pagination\n                page={page}\n                totalPages={totalPages}\n                changePage={this.changePage}\n              />\n            </div>\n            <div className=\"row\">\n              {isLoading ? (\n                movies.map(movie => (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addToFavorite={this.addToFavorite}\n                      removeFromFavorite={this.removeFromFavorite}\n                    />\n                  </div>\n                ))\n               ) : (\n                <Loader />\n              )}\n            </div>\n          </div>\n          <FavoriteMovies favoriteMovies={favoriteMovies} />\n        </div>\n        <button \n          type=\"button\" \n          className=\"button__top\" \n          onClick={this.scrollTop}\n          title=\"Go to top\"\n        >\n          Top\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}